/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
((Drupal)=>{Drupal.theme.checkbox=()=>`<input type="checkbox" class="form-checkbox"/>`;})(Drupal);;
((Drupal)=>{Drupal.theme.checkbox=()=>'<input type="checkbox" class="form-checkbox form-boolean form-boolean--type-checkbox"/>';})(Drupal);;
(($,Drupal)=>{Drupal.behaviors.ClickToSelect={attach(context){$(once('media-library-click-to-select','.js-click-to-select-trigger',context)).on('click',(event)=>{event.preventDefault();const $input=$(event.currentTarget).closest('.js-click-to-select').find('.js-click-to-select-checkbox input');$input.prop('checked',!$input.prop('checked')).trigger('change');});$(once('media-library-click-to-select','.js-click-to-select-checkbox input',context)).on('change',({currentTarget})=>{$(currentTarget).closest('.js-click-to-select').toggleClass('checked',$(currentTarget).prop('checked'));}).on('focus blur',({currentTarget,type})=>{$(currentTarget).closest('.js-click-to-select').toggleClass('is-focus',type==='focus');});$(once('media-library-click-to-select-hover','.js-click-to-select-trigger, .js-click-to-select-checkbox',context)).on('mouseover mouseout',({currentTarget,type})=>{$(currentTarget).closest('.js-click-to-select').toggleClass('is-hover',type==='mouseover');});}};})(jQuery,Drupal);;
(($,Drupal)=>{Drupal.behaviors.MediaLibrarySelectAll={attach(context){const $view=$(once('media-library-select-all','.js-media-library-view[data-view-display-id="page"]',context));if($view.length&&$view.find('.js-media-library-item').length){const $checkbox=$(Drupal.theme('checkbox')).on('click',({currentTarget})=>{const $checkboxes=$(currentTarget).closest('.js-media-library-view').find('.js-media-library-item input[type="checkbox"]');$checkboxes.prop('checked',$(currentTarget).prop('checked')).trigger('change');const announcement=$(currentTarget).prop('checked')?Drupal.t('All @count items selected',{'@count':$checkboxes.length}):Drupal.t('Zero items selected');Drupal.announce(announcement);});const $label=$('<label class="media-library-select-all"></label>');$label[0].textContent=Drupal.t('Select all media');$label.prepend($checkbox);$view.find('.js-media-library-item').first().before($label);}}};})(jQuery,Drupal);;
(($,Drupal,window,{tabbable})=>{Drupal.MediaLibrary={currentSelection:[]};Drupal.AjaxCommands.prototype.updateMediaLibrarySelection=function(ajax,response,status){Object.values(response.mediaIds).forEach((value)=>{Drupal.MediaLibrary.currentSelection.push(value);});};Drupal.behaviors.MediaLibraryTabs={attach(context){const $menu=$('.js-media-library-menu');$(once('media-library-menu-item',$menu.find('a'))).on('keypress',(e)=>{if(e.which===32){e.preventDefault();e.stopPropagation();$(e.currentTarget).trigger('click');}}).on('click',(e)=>{e.preventDefault();e.stopPropagation();const ajaxObject=Drupal.ajax({wrapper:'media-library-content',url:e.currentTarget.href,dialogType:'ajax',progress:{type:'fullscreen',message:Drupal.t('Processing...')}});ajaxObject.success=function(response,status){return Promise.resolve(Drupal.Ajax.prototype.success.call(ajaxObject,response,status)).then(()=>{const mediaLibraryContent=document.getElementById('media-library-content');if(mediaLibraryContent){const tabbableContent=tabbable(mediaLibraryContent);if(tabbableContent.length)tabbableContent[0].focus();}});};ajaxObject.execute();$menu.find('.active-tab').remove();$menu.find('a').removeClass('active');$(e.currentTarget).addClass('active').html(Drupal.t('<span class="visually-hidden">Show </span>@title<span class="visually-hidden"> media</span><span class="active-tab visually-hidden"> (selected)</span>',{'@title':$(e.currentTarget).data('title')}));Drupal.announce(Drupal.t('Showing @title media.',{'@title':$(e.currentTarget).data('title')}));});}};Drupal.behaviors.MediaLibraryViewsDisplay={attach(context){const $view=$(context).hasClass('.js-media-library-view')?$(context):$('.js-media-library-view',context);$view.closest('.views-element-container').attr('id','media-library-view');$(once('media-library-views-display-link','.views-display-link-widget, .views-display-link-widget_table',context)).on('click',(e)=>{e.preventDefault();e.stopPropagation();const $link=$(e.currentTarget);let loadingAnnouncement='';let displayAnnouncement='';let focusSelector='';if($link.hasClass('views-display-link-widget')){loadingAnnouncement=Drupal.t('Loading grid view.');displayAnnouncement=Drupal.t('Changed to grid view.');focusSelector='.views-display-link-widget';}else{if($link.hasClass('views-display-link-widget_table')){loadingAnnouncement=Drupal.t('Loading table view.');displayAnnouncement=Drupal.t('Changed to table view.');focusSelector='.views-display-link-widget_table';}}const ajaxObject=Drupal.ajax({wrapper:'media-library-view',url:e.currentTarget.href,dialogType:'ajax',progress:{type:'fullscreen',message:loadingAnnouncement||Drupal.t('Processing...')}});if(displayAnnouncement||focusSelector){const success=ajaxObject.success;ajaxObject.success=function(response,status){success.bind(this)(response,status);if(focusSelector)$(focusSelector).focus();if(displayAnnouncement)Drupal.announce(displayAnnouncement);};}ajaxObject.execute();if(loadingAnnouncement)Drupal.announce(loadingAnnouncement);});}};Drupal.behaviors.MediaLibraryItemSelection={attach(context,settings){const $form=$('.js-media-library-views-form, .js-media-library-add-form',context);const currentSelection=Drupal.MediaLibrary.currentSelection;if(!$form.length)return;const $mediaItems=$('.js-media-library-item input[type="checkbox"]',$form);function disableItems($items){$items.prop('disabled',true).closest('.js-media-library-item').addClass('media-library-item--disabled');}function enableItems($items){$items.prop('disabled',false).closest('.js-media-library-item').removeClass('media-library-item--disabled');}function updateSelectionCount(remaining){const selectItemsText=remaining<0?Drupal.formatPlural(currentSelection.length,'1 item selected','@count items selected'):Drupal.formatPlural(remaining,'@selected of @count item selected','@selected of @count items selected',{'@selected':currentSelection.length});$('.js-media-library-selected-count').html(selectItemsText);}function checkEnabled(){updateSelectionCount(settings.media_library.selection_remaining);if(currentSelection.length===settings.media_library.selection_remaining){disableItems($mediaItems.not(':checked'));enableItems($mediaItems.filter(':checked'));}else enableItems($mediaItems);}$(once('media-item-change',$mediaItems)).on('change',(e)=>{const id=e.currentTarget.value;if(e.currentTarget.checked){if(!currentSelection.includes(id))currentSelection.push(id);}else{if(currentSelection.includes(id))currentSelection.splice(currentSelection.indexOf(id),1);}const mediaLibraryModalSelection=document.querySelector('#media-library-modal-selection');if(mediaLibraryModalSelection){mediaLibraryModalSelection.value=currentSelection.join();$(mediaLibraryModalSelection).trigger('change');}document.querySelectorAll('.js-media-library-add-form-current-selection').forEach((item)=>{item.value=currentSelection.join();});});checkEnabled();$(once('media-library-selection-change',$form.find('#media-library-modal-selection'))).on('change',(e)=>{checkEnabled();});currentSelection.forEach((value)=>{$form.find(`input[type="checkbox"][value="${value}"]`).prop('checked',true).trigger('change');});if(!once('media-library-selection-info','html').length)return;window.addEventListener('dialog:aftercreate',()=>{const $buttonPane=$('.media-library-widget-modal .ui-dialog-buttonpane');if(!$buttonPane.length)return;$buttonPane.append(Drupal.theme('mediaLibrarySelectionCount'));updateSelectionCount(settings.media_library.selection_remaining);});}};Drupal.behaviors.MediaLibraryModalClearSelection={attach(){if(!once('media-library-clear-selection','html').length)return;window.addEventListener('dialog:afterclose',()=>{Drupal.MediaLibrary.currentSelection.length=0;});}};Drupal.theme.mediaLibrarySelectionCount=function(){return `<div class="media-library-selected-count js-media-library-selected-count" role="status" aria-live="polite" aria-atomic="true"></div>`;};})(jQuery,Drupal,window,window.tabbable);;
(function($,Drupal){Drupal.behaviors.menuUiDetailsSummaries={attach(context){$(context).find('.menu-link-form').drupalSetSummary((context)=>{const $context=$(context);if($context.find('.js-form-item-menu-enabled input:checked').length)return Drupal.checkPlain($context.find('.js-form-item-menu-title input')[0].value);return Drupal.t('Not in menu');});}};Drupal.behaviors.menuUiLinkAutomaticTitle={attach(context){const $context=$(context);$context.find('.menu-link-form').each(function(){const $this=$(this);const $checkbox=$this.find('.js-form-item-menu-enabled input');const $linkTitle=$context.find('.js-form-item-menu-title input');const $title=$this.closest('form').find('.js-form-item-title-0-value input');if(!($checkbox.length&&$linkTitle.length&&$title.length))return;if($checkbox[0].checked&&$linkTitle[0].value.length)$linkTitle.data('menuLinkAutomaticTitleOverridden',true);$linkTitle.on('keyup',()=>{$linkTitle.data('menuLinkAutomaticTitleOverridden',true);});$checkbox.on('change',()=>{if($checkbox[0].checked){if(!$linkTitle.data('menuLinkAutomaticTitleOverridden'))$linkTitle[0].value=$title[0].value;}else{$linkTitle[0].value='';$linkTitle.removeData('menuLinkAutomaticTitleOverridden');}$checkbox.closest('.vertical-tabs-pane').trigger('summaryUpdated');$checkbox.trigger('formUpdated');});$title.on('keyup',()=>{if(!$linkTitle.data('menuLinkAutomaticTitleOverridden')&&$checkbox[0].checked){$linkTitle[0].value=$title[0].value;$linkTitle.trigger('formUpdated');}});});}};})(jQuery,Drupal);;
/* @license MIT https://github.com/floating-ui/floating-ui/blob/@floating-ui/dom@1.6.12/LICENSE */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FloatingUICore={})}(this,(function(t){"use strict";const e=["top","right","bottom","left"],n=["start","end"],i=e.reduce(((t,e)=>t.concat(e,e+"-"+n[0],e+"-"+n[1])),[]),o=Math.min,r=Math.max,a={left:"right",right:"left",bottom:"top",top:"bottom"},l={start:"end",end:"start"};function s(t,e,n){return r(t,o(e,n))}function f(t,e){return"function"==typeof t?t(e):t}function c(t){return t.split("-")[0]}function u(t){return t.split("-")[1]}function m(t){return"x"===t?"y":"x"}function d(t){return"y"===t?"height":"width"}function g(t){return["top","bottom"].includes(c(t))?"y":"x"}function p(t){return m(g(t))}function h(t,e,n){void 0===n&&(n=!1);const i=u(t),o=p(t),r=d(o);let a="x"===o?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=w(a)),[a,w(a)]}function y(t){return t.replace(/start|end/g,(t=>l[t]))}function w(t){return t.replace(/left|right|bottom|top/g,(t=>a[t]))}function x(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function v(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function b(t,e,n){let{reference:i,floating:o}=t;const r=g(e),a=p(e),l=d(a),s=c(e),f="y"===r,m=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,y=i[l]/2-o[l]/2;let w;switch(s){case"top":w={x:m,y:i.y-o.height};break;case"bottom":w={x:m,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:h};break;case"left":w={x:i.x-o.width,y:h};break;default:w={x:i.x,y:i.y}}switch(u(e)){case"start":w[a]-=y*(n&&f?-1:1);break;case"end":w[a]+=y*(n&&f?-1:1)}return w}async function A(t,e){var n;void 0===e&&(e={});const{x:i,y:o,platform:r,rects:a,elements:l,strategy:s}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:d=!1,padding:g=0}=f(e,t),p=x(g),h=l[d?"floating"===m?"reference":"floating":m],y=v(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(h)))||n?h:h.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:s})),w="floating"===m?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(null==r.getOffsetParent?void 0:r.getOffsetParent(l.floating)),A=await(null==r.isElement?void 0:r.isElement(b))&&await(null==r.getScale?void 0:r.getScale(b))||{x:1,y:1},R=v(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:s}):w);return{top:(y.top-R.top+p.top)/A.y,bottom:(R.bottom-y.bottom+p.bottom)/A.y,left:(y.left-R.left+p.left)/A.x,right:(R.right-y.right+p.right)/A.x}}function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function P(t){return e.some((e=>t[e]>=0))}function T(t){const e=o(...t.map((t=>t.left))),n=o(...t.map((t=>t.top)));return{x:e,y:n,width:r(...t.map((t=>t.right)))-e,height:r(...t.map((t=>t.bottom)))-n}}t.arrow=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:l,elements:c,middlewareData:m}=e,{element:g,padding:h=0}=f(t,e)||{};if(null==g)return{};const y=x(h),w={x:n,y:i},v=p(r),b=d(v),A=await l.getDimensions(g),R="y"===v,P=R?"top":"left",T=R?"bottom":"right",D=R?"clientHeight":"clientWidth",O=a.reference[b]+a.reference[v]-w[v]-a.floating[b],E=w[v]-a.reference[v],L=await(null==l.getOffsetParent?void 0:l.getOffsetParent(g));let k=L?L[D]:0;k&&await(null==l.isElement?void 0:l.isElement(L))||(k=c.floating[D]||a.floating[b]);const C=O/2-E/2,B=k/2-A[b]/2-1,H=o(y[P],B),S=o(y[T],B),F=H,j=k-A[b]-S,z=k/2-A[b]/2+C,M=s(F,z,j),V=!m.arrow&&null!=u(r)&&z!==M&&a.reference[b]/2-(z<F?H:S)-A[b]/2<0,W=V?z<F?z-F:z-j:0;return{[v]:w[v]+W,data:{[v]:M,centerOffset:z-M-W,...V&&{alignmentOffset:W}},reset:V}}}),t.autoPlacement=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,r;const{rects:a,middlewareData:l,placement:s,platform:m,elements:d}=e,{crossAxis:g=!1,alignment:p,allowedPlacements:w=i,autoAlignment:x=!0,...v}=f(t,e),b=void 0!==p||w===i?function(t,e,n){return(t?[...n.filter((e=>u(e)===t)),...n.filter((e=>u(e)!==t))]:n.filter((t=>c(t)===t))).filter((n=>!t||u(n)===t||!!e&&y(n)!==n))}(p||null,x,w):w,R=await A(e,v),P=(null==(n=l.autoPlacement)?void 0:n.index)||0,T=b[P];if(null==T)return{};const D=h(T,a,await(null==m.isRTL?void 0:m.isRTL(d.floating)));if(s!==T)return{reset:{placement:b[0]}};const O=[R[c(T)],R[D[0]],R[D[1]]],E=[...(null==(o=l.autoPlacement)?void 0:o.overflows)||[],{placement:T,overflows:O}],L=b[P+1];if(L)return{data:{index:P+1,overflows:E},reset:{placement:L}};const k=E.map((t=>{const e=u(t.placement);return[t.placement,e&&g?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1])),C=(null==(r=k.filter((t=>t[2].slice(0,u(t[0])?2:3).every((t=>t<=0))))[0])?void 0:r[0])||k[0][0];return C!==s?{data:{index:P+1,overflows:E},reset:{placement:C}}:{}}}},t.computePosition=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:c,y:u}=b(f,i,s),m=i,d={},g=0;for(let n=0;n<l.length;n++){const{name:r,fn:p}=l[n],{x:h,y:y,data:w,reset:x}=await p({x:c,y:u,initialPlacement:i,placement:m,strategy:o,middlewareData:d,rects:f,platform:a,elements:{reference:t,floating:e}});c=null!=h?h:c,u=null!=y?y:u,d={...d,[r]:{...d[r],...w}},x&&g<=50&&(g++,"object"==typeof x&&(x.placement&&(m=x.placement),x.rects&&(f=!0===x.rects?await a.getElementRects({reference:t,floating:e,strategy:o}):x.rects),({x:c,y:u}=b(f,m,s))),n=-1)}return{x:c,y:u,placement:m,strategy:o,middlewareData:d}},t.detectOverflow=A,t.flip=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:r,rects:a,initialPlacement:l,platform:s,elements:m}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:R=!0,...P}=f(t,e);if(null!=(n=r.arrow)&&n.alignmentOffset)return{};const T=c(o),D=g(l),O=c(l)===l,E=await(null==s.isRTL?void 0:s.isRTL(m.floating)),L=x||(O||!R?[w(l)]:function(t){const e=w(t);return[y(t),e,y(e)]}(l)),k="none"!==b;!x&&k&&L.push(...function(t,e,n,i){const o=u(t);let r=function(t,e,n){const i=["left","right"],o=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?r:a;default:return[]}}(c(t),"start"===n,i);return o&&(r=r.map((t=>t+"-"+o)),e&&(r=r.concat(r.map(y)))),r}(l,R,b,E));const C=[l,...L],B=await A(e,P),H=[];let S=(null==(i=r.flip)?void 0:i.overflows)||[];if(d&&H.push(B[T]),p){const t=h(o,a,E);H.push(B[t[0]],B[t[1]])}if(S=[...S,{placement:o,overflows:H}],!H.every((t=>t<=0))){var F,j;const t=((null==(F=r.flip)?void 0:F.index)||0)+1,e=C[t];if(e)return{data:{index:t,overflows:S},reset:{placement:e}};let n=null==(j=S.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:j.placement;if(!n)switch(v){case"bestFit":{var z;const t=null==(z=S.filter((t=>{if(k){const e=g(t.placement);return e===D||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:z[0];t&&(n=t);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}},t.hide=function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=f(t,e);switch(i){case"referenceHidden":{const t=R(await A(e,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:P(t)}}}case"escaped":{const t=R(await A(e,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:t,escaped:P(t)}}}default:return{}}}}},t.inline=function(t){return void 0===t&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:a,platform:l,strategy:s}=e,{padding:u=2,x:m,y:d}=f(t,e),p=Array.from(await(null==l.getClientRects?void 0:l.getClientRects(i.reference))||[]),h=function(t){const e=t.slice().sort(((t,e)=>t.y-e.y)),n=[];let i=null;for(let t=0;t<e.length;t++){const o=e[t];!i||o.y-i.y>i.height/2?n.push([o]):n[n.length-1].push(o),i=o}return n.map((t=>v(T(t))))}(p),y=v(T(p)),w=x(u);const b=await l.getElementRects({reference:{getBoundingClientRect:function(){if(2===h.length&&h[0].left>h[1].right&&null!=m&&null!=d)return h.find((t=>m>t.left-w.left&&m<t.right+w.right&&d>t.top-w.top&&d<t.bottom+w.bottom))||y;if(h.length>=2){if("y"===g(n)){const t=h[0],e=h[h.length-1],i="top"===c(n),o=t.top,r=e.bottom,a=i?t.left:e.left,l=i?t.right:e.right;return{top:o,bottom:r,left:a,right:l,width:l-a,height:r-o,x:a,y:o}}const t="left"===c(n),e=r(...h.map((t=>t.right))),i=o(...h.map((t=>t.left))),a=h.filter((n=>t?n.left===i:n.right===e)),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:i,right:e,width:e-i,height:s-l,x:i,y:l}}return y}},floating:i.floating,strategy:s});return a.reference.x!==b.reference.x||a.reference.y!==b.reference.y||a.reference.width!==b.reference.width||a.reference.height!==b.reference.height?{reset:{rects:b}}:{}}}},t.limitShift=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:r,middlewareData:a}=e,{offset:l=0,mainAxis:s=!0,crossAxis:u=!0}=f(t,e),d={x:n,y:i},p=g(o),h=m(p);let y=d[h],w=d[p];const x=f(l,e),v="number"==typeof x?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(s){const t="y"===h?"height":"width",e=r.reference[h]-r.floating[t]+v.mainAxis,n=r.reference[h]+r.reference[t]-v.mainAxis;y<e?y=e:y>n&&(y=n)}if(u){var b,A;const t="y"===h?"width":"height",e=["top","left"].includes(c(o)),n=r.reference[p]-r.floating[t]+(e&&(null==(b=a.offset)?void 0:b[p])||0)+(e?0:v.crossAxis),i=r.reference[p]+r.reference[t]+(e?0:(null==(A=a.offset)?void 0:A[p])||0)-(e?v.crossAxis:0);w<n?w=n:w>i&&(w=i)}return{[h]:y,[p]:w}}}},t.offset=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:r,placement:a,middlewareData:l}=e,s=await async function(t,e){const{placement:n,platform:i,elements:o}=t,r=await(null==i.isRTL?void 0:i.isRTL(o.floating)),a=c(n),l=u(n),s="y"===g(n),m=["left","top"].includes(a)?-1:1,d=r&&s?-1:1,p=f(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:w}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return l&&"number"==typeof w&&(y="end"===l?-1*w:w),s?{x:y*d,y:h*m}:{x:h*m,y:y*d}}(e,t);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(i=l.arrow)&&i.alignmentOffset?{}:{x:o+s.x,y:r+s.y,data:{...s,placement:a}}}}},t.rectToClientRect=v,t.shift=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...u}=f(t,e),d={x:n,y:i},p=await A(e,u),h=g(c(o)),y=m(h);let w=d[y],x=d[h];if(r){const t="y"===y?"bottom":"right";w=s(w+p["y"===y?"top":"left"],w,w-p[t])}if(a){const t="y"===h?"bottom":"right";x=s(x+p["y"===h?"top":"left"],x,x-p[t])}const v=l.fn({...e,[y]:w,[h]:x});return{...v,data:{x:v.x-n,y:v.y-i}}}}},t.size=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:a,elements:l}=e,{apply:s=(()=>{}),...m}=f(t,e),d=await A(e,m),p=c(n),h=u(n),y="y"===g(n),{width:w,height:x}=i.floating;let v,b;"top"===p||"bottom"===p?(v=p,b=h===(await(null==a.isRTL?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=p,v="end"===h?"top":"bottom");const R=x-d.top-d.bottom,P=w-d.left-d.right,T=o(x-d[v],R),D=o(w-d[b],P),O=!e.middlewareData.shift;let E=T,L=D;if(y?L=h||O?o(D,P):P:E=h||O?o(T,R):R,O&&!h){const t=r(d.left,0),e=r(d.right,0),n=r(d.top,0),i=r(d.bottom,0);y?L=w-2*(0!==t||0!==e?t+e:r(d.left,d.right)):E=x-2*(0!==n||0!==i?n+i:r(d.top,d.bottom))}await s({...e,availableWidth:L,availableHeight:E});const k=await a.getDimensions(l.floating);return w!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}}}));
;
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@floating-ui/core")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/core"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FloatingUIDOM={},t.FloatingUICore)}(this,(function(t,e){"use strict";const n=Math.min,o=Math.max,i=Math.round,r=Math.floor,c=t=>({x:t,y:t});function l(){return"undefined"!=typeof window}function s(t){return d(t)?(t.nodeName||"").toLowerCase():"#document"}function f(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function u(t){var e;return null==(e=(d(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function d(t){return!!l()&&(t instanceof Node||t instanceof f(t).Node)}function a(t){return!!l()&&(t instanceof Element||t instanceof f(t).Element)}function h(t){return!!l()&&(t instanceof HTMLElement||t instanceof f(t).HTMLElement)}function p(t){return!(!l()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof f(t).ShadowRoot)}function g(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=b(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function m(t){return["table","td","th"].includes(s(t))}function y(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function w(t){const e=x(),n=a(t)?b(t):t;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function x(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function v(t){return["html","body","#document"].includes(s(t))}function b(t){return f(t).getComputedStyle(t)}function T(t){return a(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function L(t){if("html"===s(t))return t;const e=t.assignedSlot||t.parentNode||p(t)&&t.host||u(t);return p(e)?e.host:e}function R(t){const e=L(t);return v(e)?t.ownerDocument?t.ownerDocument.body:t.body:h(e)&&g(e)?e:R(e)}function C(t,e,n){var o;void 0===e&&(e=[]),void 0===n&&(n=!0);const i=R(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),c=f(i);if(r){const t=E(c);return e.concat(c,c.visualViewport||[],g(i)?i:[],t&&n?C(t):[])}return e.concat(i,C(i,[],n))}function E(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function S(t){const e=b(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=h(t),c=r?t.offsetWidth:n,l=r?t.offsetHeight:o,s=i(n)!==c||i(o)!==l;return s&&(n=c,o=l),{width:n,height:o,$:s}}function F(t){return a(t)?t:t.contextElement}function O(t){const e=F(t);if(!h(e))return c(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:l}=S(e);let s=(l?i(n.width):n.width)/o,f=(l?i(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),f&&Number.isFinite(f)||(f=1),{x:s,y:f}}const D=c(0);function H(t){const e=f(t);return x()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:D}function P(t,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=!1);const r=t.getBoundingClientRect(),l=F(t);let s=c(1);n&&(i?a(i)&&(s=O(i)):s=O(t));const u=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==f(t))&&e}(l,o,i)?H(l):c(0);let d=(r.left+u.x)/s.x,h=(r.top+u.y)/s.y,p=r.width/s.x,g=r.height/s.y;if(l){const t=f(l),e=i&&a(i)?f(i):i;let n=t,o=E(n);for(;o&&i&&e!==n;){const t=O(o),e=o.getBoundingClientRect(),i=b(o),r=e.left+(o.clientLeft+parseFloat(i.paddingLeft))*t.x,c=e.top+(o.clientTop+parseFloat(i.paddingTop))*t.y;d*=t.x,h*=t.y,p*=t.x,g*=t.y,d+=r,h+=c,n=f(o),o=E(n)}}return e.rectToClientRect({width:p,height:g,x:d,y:h})}function W(t,e){const n=T(t).scrollLeft;return e?e.left+n:P(u(t)).left+n}function M(t,e,n){void 0===n&&(n=!1);const o=t.getBoundingClientRect();return{x:o.left+e.scrollLeft-(n?0:W(t,o)),y:o.top+e.scrollTop}}function z(t,n,i){let r;if("viewport"===n)r=function(t,e){const n=f(t),o=u(t),i=n.visualViewport;let r=o.clientWidth,c=o.clientHeight,l=0,s=0;if(i){r=i.width,c=i.height;const t=x();(!t||t&&"fixed"===e)&&(l=i.offsetLeft,s=i.offsetTop)}return{width:r,height:c,x:l,y:s}}(t,i);else if("document"===n)r=function(t){const e=u(t),n=T(t),i=t.ownerDocument.body,r=o(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=o(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+W(t);const s=-n.scrollTop;return"rtl"===b(i).direction&&(l+=o(e.clientWidth,i.clientWidth)-r),{width:r,height:c,x:l,y:s}}(u(t));else if(a(n))r=function(t,e){const n=P(t,!0,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=h(t)?O(t):c(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:o*r.y}}(n,i);else{const e=H(t);r={x:n.x-e.x,y:n.y-e.y,width:n.width,height:n.height}}return e.rectToClientRect(r)}function A(t,e){const n=L(t);return!(n===e||!a(n)||v(n))&&("fixed"===b(n).position||A(n,e))}function V(t,e,n){const o=h(e),i=u(e),r="fixed"===n,l=P(t,!0,r,e);let f={scrollLeft:0,scrollTop:0};const d=c(0);if(o||!o&&!r)if(("body"!==s(e)||g(i))&&(f=T(e)),o){const t=P(e,!0,r,e);d.x=t.x+e.clientLeft,d.y=t.y+e.clientTop}else i&&(d.x=W(i));const a=!i||o||r?c(0):M(i,f);return{x:l.left+f.scrollLeft-d.x-a.x,y:l.top+f.scrollTop-d.y-a.y,width:l.width,height:l.height}}function B(t){return"static"===b(t).position}function N(t,e){if(!h(t)||"fixed"===b(t).position)return null;if(e)return e(t);let n=t.offsetParent;return u(t)===n&&(n=n.ownerDocument.body),n}function I(t,e){const n=f(t);if(y(t))return n;if(!h(t)){let e=L(t);for(;e&&!v(e);){if(a(e)&&!B(e))return e;e=L(e)}return n}let o=N(t,e);for(;o&&m(o)&&B(o);)o=N(o,e);return o&&v(o)&&B(o)&&!w(o)?n:o||function(t){let e=L(t);for(;h(e)&&!v(e);){if(w(e))return e;if(y(e))return null;e=L(e)}return null}(t)||n}const k={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r="fixed"===i,l=u(o),f=!!e&&y(e.floating);if(o===l||f&&r)return n;let d={scrollLeft:0,scrollTop:0},a=c(1);const p=c(0),m=h(o);if((m||!m&&!r)&&(("body"!==s(o)||g(l))&&(d=T(o)),h(o))){const t=P(o);a=O(o),p.x=t.x+o.clientLeft,p.y=t.y+o.clientTop}const w=!l||m||r?c(0):M(l,d,!0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-d.scrollLeft*a.x+p.x+w.x,y:n.y*a.y-d.scrollTop*a.y+p.y+w.y}},getDocumentElement:u,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:r,strategy:c}=t;const l=[..."clippingAncestors"===i?y(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let o=C(t,[],!1).filter((t=>a(t)&&"body"!==s(t))),i=null;const r="fixed"===b(t).position;let c=r?L(t):t;for(;a(c)&&!v(c);){const e=b(c),n=w(c);n||"fixed"!==e.position||(i=null),(r?!n&&!i:!n&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||g(c)&&!n&&A(t,c))?o=o.filter((t=>t!==c)):i=e,c=L(c)}return e.set(t,o),o}(e,this._c):[].concat(i),r],f=l[0],u=l.reduce(((t,i)=>{const r=z(e,i,c);return t.top=o(r.top,t.top),t.right=n(r.right,t.right),t.bottom=n(r.bottom,t.bottom),t.left=o(r.left,t.left),t}),z(e,f,c));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:I,getElementRects:async function(t){const e=this.getOffsetParent||I,n=this.getDimensions,o=await n(t.floating);return{reference:V(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=S(t);return{width:e,height:n}},getScale:O,isElement:a,isRTL:function(t){return"rtl"===b(t).direction}};const q=e.detectOverflow,U=e.offset,j=e.autoPlacement,X=e.shift,Y=e.flip,$=e.size,_=e.hide,G=e.arrow,J=e.inline,K=e.limitShift;t.arrow=G,t.autoPlacement=j,t.autoUpdate=function(t,e,i,c){void 0===c&&(c={});const{ancestorScroll:l=!0,ancestorResize:s=!0,elementResize:f="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:a=!1}=c,h=F(t),p=l||s?[...h?C(h):[],...C(e)]:[];p.forEach((t=>{l&&t.addEventListener("scroll",i,{passive:!0}),s&&t.addEventListener("resize",i)}));const g=h&&d?function(t,e){let i,c=null;const l=u(t);function s(){var t;clearTimeout(i),null==(t=c)||t.disconnect(),c=null}return function f(u,d){void 0===u&&(u=!1),void 0===d&&(d=1),s();const{left:a,top:h,width:p,height:g}=t.getBoundingClientRect();if(u||e(),!p||!g)return;const m={rootMargin:-r(h)+"px "+-r(l.clientWidth-(a+p))+"px "+-r(l.clientHeight-(h+g))+"px "+-r(a)+"px",threshold:o(0,n(1,d))||1};let y=!0;function w(t){const e=t[0].intersectionRatio;if(e!==d){if(!y)return f();e?f(!1,e):i=setTimeout((()=>{f(!1,1e-7)}),1e3)}y=!1}try{c=new IntersectionObserver(w,{...m,root:l.ownerDocument})}catch(t){c=new IntersectionObserver(w,m)}c.observe(t)}(!0),s}(h,i):null;let m,y=-1,w=null;f&&(w=new ResizeObserver((t=>{let[n]=t;n&&n.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{var t;null==(t=w)||t.observe(e)}))),i()})),h&&!a&&w.observe(h),w.observe(e));let x=a?P(t):null;return a&&function e(){const n=P(t);!x||n.x===x.x&&n.y===x.y&&n.width===x.width&&n.height===x.height||i();x=n,m=requestAnimationFrame(e)}(),i(),()=>{var t;p.forEach((t=>{l&&t.removeEventListener("scroll",i),s&&t.removeEventListener("resize",i)})),null==g||g(),null==(t=w)||t.disconnect(),w=null,a&&cancelAnimationFrame(m)}},t.computePosition=(t,n,o)=>{const i=new Map,r={platform:k,...o},c={...r.platform,_c:i};return e.computePosition(t,n,{...r,platform:c})},t.detectOverflow=q,t.flip=Y,t.getOverflowAncestors=C,t.hide=_,t.inline=J,t.limitShift=K,t.offset=U,t.platform=k,t.shift=X,t.size=$}));
;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
((Drupal,once,{computePosition,offset,shift,flip})=>{Drupal.behaviors.dropdownInit={attach:(context)=>{once('dropdown-trigger','[data-drupal-dropdown]',context).forEach((trigger)=>{const dropdown=trigger.nextElementSibling;const updatePosition=()=>{computePosition(trigger,dropdown,{strategy:'fixed',placement:trigger.dataset.drupalDropdownPosition||'bottom',middleware:[flip({padding:16}),offset(6),shift({padding:16})]}).then(({x,y})=>{Object.assign(dropdown.style,{left:`${x}px`,top:`${y}px`});});};trigger.addEventListener('click',(e)=>{updatePosition();trigger.setAttribute('aria-expanded',e.currentTarget.getAttribute('aria-expanded')==='false');});document.addEventListener('click',(e)=>{const isButtonClicked=trigger.contains(e.target);if(!isButtonClicked)trigger.setAttribute('aria-expanded','false');});});}};})(Drupal,once,FloatingUIDOM);;
const POPOVER_OPEN_DELAY=150;const POPOVER_CLOSE_DELAY=400;const POPOVER_NO_CLICK_DELAY=500;((Drupal,once)=>{Drupal.behaviors.navigationProcessPopovers={attach:(context)=>{once('toolbar-popover',context.querySelectorAll('[data-toolbar-popover]')).forEach((popover)=>{const button=popover.querySelector('[data-toolbar-popover-control]');const tooltip=popover.querySelector('[data-toolbar-popover-wrapper]');if(!button||!tooltip)return;const expandPopover=()=>{popover.classList.add('toolbar-popover--expanded');button.dataset.drupalNoClick='true';tooltip.removeAttribute('inert');setTimeout(()=>{delete button.dataset.drupalNoClick;},POPOVER_NO_CLICK_DELAY);};const collapsePopover=()=>{popover.classList.remove('toolbar-popover--expanded');tooltip.setAttribute('inert',true);delete button.dataset.drupalNoClick;};const toggleState=(state,initialLoad=false)=>{state&&!initialLoad?expandPopover():collapsePopover();button.setAttribute('aria-expanded',state&&!initialLoad);const text=button.querySelector('[data-toolbar-action]');if(text)text.textContent=state?Drupal.t('Collapse'):Drupal.t('Extend');popover.dispatchEvent(new CustomEvent('toolbar-popover-toggled',{bubbles:true,detail:{state}}));};const isPopoverHoverOrFocus=()=>popover.contains(document.activeElement)||popover.matches(':hover');const delayedClose=()=>{setTimeout(()=>{if(isPopoverHoverOrFocus())return;close();},POPOVER_CLOSE_DELAY);};const open=()=>{['mouseleave','focusout'].forEach((e)=>{button.addEventListener(e,delayedClose,false);tooltip.addEventListener(e,delayedClose,false);});};const close=()=>{toggleState(false);['mouseleave','focusout'].forEach((e)=>{button.removeEventListener(e,delayedClose);tooltip.removeEventListener(e,delayedClose);});};button.addEventListener('mouseover',()=>{if(window.matchMedia('(max-width: 1023px)').matches)return;setTimeout(()=>{if(!button.matches(':hover')||!button.getAttribute('aria-expanded')==='false')return;toggleState(true);open();},POPOVER_OPEN_DELAY);});button.addEventListener('click',(e)=>{const state=e.currentTarget.getAttribute('aria-expanded')==='false';if(!e.currentTarget.dataset.drupalNoClick)toggleState(state);});popover.addEventListener('toolbar-popover-close',()=>{close();});popover.addEventListener('toolbar-popover-open',()=>{toggleState(true);});popover.addEventListener('toolbar-active-url',()=>{toggleState(true,true);});});}};})(Drupal,once);;
((Drupal,once)=>{function handleMouseMove({currentTarget:{style},clientX,clientY}){style.setProperty('--safe-triangle-cursor-x',`${clientX}px`);style.setProperty('--safe-triangle-cursor-y',`${clientY}px`);}Drupal.behaviors.safeTriangleInit={attach:(context)=>{once('safe-triangle','[data-has-safe-triangle]',context).forEach((button)=>{button.insertAdjacentHTML('beforeend','<div data-safe-triangle></div>');button.addEventListener('mousemove',handleMouseMove);});},detach:(context,settings,trigger)=>{if(trigger==='unload')once.remove('safe-triangle','[data-has-safe-triangle]',context).forEach((button)=>{button.querySelector('[data-safe-triangle]')?.remove();button.removeEventListener('mousemove',handleMouseMove);});}};})(Drupal,once);;
((Drupal,once)=>{const TOOLBAR_MENU_SET_TOGGLE='toolbar-menu-set-toggle';Drupal.behaviors.navigationProcessToolbarMenuTriggers={attach:(context)=>{once('toolbar-menu-trigger','[data-toolbar-menu-trigger]',context).forEach((button)=>{const menu=button.nextElementSibling;const text=button.querySelector('[data-toolbar-action]');const toggleButtonState=(state)=>{button.setAttribute('aria-expanded',state);if(text)text.textContent=state?Drupal.t('Collapse'):Drupal.t('Extend');if(state)menu.removeAttribute('inert');else menu.setAttribute('inert',true);};button.addEventListener('click',(e)=>{const level=e.currentTarget.dataset.toolbarMenuTrigger;const state=e.currentTarget.getAttribute('aria-expanded')==='false';toggleButtonState(state);button.dispatchEvent(new CustomEvent('toolbar-menu-toggled',{bubbles:true,detail:{state,level}}));});button.addEventListener(TOOLBAR_MENU_SET_TOGGLE,(e)=>{const newState=e.detail.state;toggleButtonState(newState);});});}};Drupal.behaviors.navigationProcessToolbarMenuLinks={attach:(context)=>{once('toolbar-menu-link','a.toolbar-menu__link, a.toolbar-button',context).forEach((link)=>{if(document.URL===link.href){link.classList.add('current','is-active');link.dispatchEvent(new CustomEvent('toolbar-active-url',{bubbles:true}));const menu=link.closest('.toolbar-menu');if(menu)menu.previousElementSibling.dispatchEvent(new CustomEvent(TOOLBAR_MENU_SET_TOGGLE,{detail:{state:true}}));}});}};})(Drupal,once);;
((Drupal,once,{computePosition,offset,shift,flip})=>{Drupal.theme.tooltipWrapper=(dataset)=>`<div class="toolbar-tooltip ${dataset.drupalTooltipClass||''}">
      ${dataset.drupalTooltip}
    </div>`;Drupal.behaviors.tooltipInit={attach:(context)=>{once('tooltip-trigger','[data-drupal-tooltip]',context).forEach((trigger)=>{trigger.insertAdjacentHTML('afterend',Drupal.theme.tooltipWrapper(trigger.dataset));const tooltip=trigger.nextElementSibling;const updatePosition=()=>{computePosition(trigger,tooltip,{strategy:'fixed',placement:trigger.dataset.drupalTooltipPosition||'right',middleware:[flip({padding:16}),offset(6),shift({padding:16})]}).then(({x,y})=>{Object.assign(tooltip.style,{left:`${x}px`,top:`${y}px`});});};const ro=new ResizeObserver(updatePosition);ro.observe(trigger);trigger.addEventListener('mouseover',updatePosition);trigger.addEventListener('focus',updatePosition);});}};})(Drupal,once,FloatingUIDOM);;
((Drupal,once)=>{Drupal.behaviors.navigation={attach(context){once('navigation','.admin-toolbar',context).forEach((sidebar)=>{const backButton=sidebar.querySelector('[data-toolbar-back-control]');if(!backButton)return;const buttons=sidebar.querySelectorAll('[data-toolbar-menu-trigger]');const tooltips=sidebar.querySelectorAll('[data-drupal-tooltip]');const closeButtons=()=>{buttons.forEach((button)=>{button.dispatchEvent(new CustomEvent('toolbar-menu-set-toggle',{detail:{state:false}}));});};const closePopovers=(current=false)=>{sidebar.querySelectorAll('[data-toolbar-popover]').forEach((popover)=>{if(current&&current instanceof Element&&popover.isEqualNode(current))return;popover.dispatchEvent(new CustomEvent('toolbar-popover-close',{}));});};sidebar.addEventListener('click',(e)=>{if(e.target.matches('button, button *'))e.target.closest('button').focus();});sidebar.addEventListener('toggle-admin-toolbar-content',(e)=>{if(!e.detail.state)closePopovers();});sidebar.addEventListener('toolbar-popover-toggled',(e)=>{if(e.detail.state){closeButtons();closePopovers(e.target);}});sidebar.addEventListener('toolbar-menu-toggled',(e)=>{if(e.detail.state){const targetLevel=e.detail.level;buttons.forEach((button)=>{const buttonLevel=button.dataset.toolbarMenuTrigger;if(!button.isEqualNode(e.target)&&+buttonLevel===+targetLevel)button.dispatchEvent(new CustomEvent('toolbar-menu-set-toggle',{detail:{state:false}}));});}});backButton.addEventListener('click',closePopovers);tooltips.forEach((tooltip)=>{['mouseover','focus'].forEach((e)=>{tooltip.addEventListener(e,closePopovers);});});});}};})(Drupal,once);;
((Drupal,once)=>{const HTML_TRIGGER_EVENT='toggle-admin-toolbar';const SIDEBAR_CONTENT_EVENT='toggle-admin-toolbar-content';Drupal.behaviors.navigationProcessHtmlListener={attach:(context)=>{if(context===document)if(once('admin-toolbar-document-triggers-listener',document.documentElement).length){const doc=document.documentElement;setTimeout(()=>{doc.setAttribute('data-admin-toolbar-transitions',true);},200);doc.addEventListener(HTML_TRIGGER_EVENT,(e)=>{const newState=e.detail.state;const isUserInput=e.detail.manual;document.documentElement.setAttribute('data-admin-toolbar',newState?'expanded':'collapsed');document.documentElement.setAttribute('data-admin-toolbar-body-scroll',newState?'locked':'unlocked');doc.querySelector('.admin-toolbar')?.dispatchEvent(new CustomEvent(SIDEBAR_CONTENT_EVENT,{detail:{state:newState}}));if(isUserInput)document.documentElement.setAttribute('data-admin-toolbar-animating',true);setTimeout(()=>{document.documentElement.removeAttribute('data-admin-toolbar-animating');},200);Drupal.displace(true);});const initDisplace=()=>{const displaceElement=doc.querySelector('.admin-toolbar')?.querySelector('.admin-toolbar__displace-placeholder');const edge=document.documentElement.dir==='rtl'?'right':'left';displaceElement?.setAttribute(`data-offset-${edge}`,'');Drupal.displace(true);};initDisplace();}}};Drupal.behaviors.navigationProcessToolbarTriggers={attach:(context)=>{const triggers=once('admin-toolbar-trigger','[aria-controls="admin-toolbar"]',context);const toggleTriggers=(toState)=>{triggers.forEach((trigger)=>{trigger.setAttribute('aria-expanded',toState);const text=trigger.querySelector('[data-toolbar-text]')||trigger.querySelector('[data-toolbar-action]');if(text)text.textContent=toState?Drupal.t('Collapse sidebar'):Drupal.t('Expand sidebar');});};let firstState=localStorage.getItem('Drupal.navigation.sidebarExpanded')!=='false';if(window.matchMedia('(max-width: 1023px)').matches)firstState=false;toggleTriggers(firstState);document.documentElement.dispatchEvent(new CustomEvent(HTML_TRIGGER_EVENT,{bubbles:true,detail:{state:firstState,manual:false}}));triggers.forEach((trigger)=>{trigger.addEventListener('click',(e)=>{const state=e.currentTarget.getAttribute('aria-expanded')==='false';trigger.dispatchEvent(new CustomEvent(HTML_TRIGGER_EVENT,{bubbles:true,detail:{state,manual:true}}));toggleTriggers(state);localStorage.setItem('Drupal.navigation.sidebarExpanded',state);});});}};})(Drupal,once);;
((Drupal,once,{focusable})=>{Drupal.behaviors.keyboardNavigation={attach:(context)=>{once('keyboard-processed','.admin-toolbar',context).forEach((sidebar)=>{const IS_RTL=document.documentElement.dir==='rtl';const isInteractive=(element)=>element.getAttribute('aria-expanded');const getFocusableGroup=(element)=>element.closest('[class*="toolbar-menu--level-"]')||element.closest('[data-toolbar-popover-wrapper]')||element.closest('.admin-toolbar');const findFirstElementByChar=(focusableElements,targetChar)=>{const elementWIthChar=Array.prototype.find.call(focusableElements,(element)=>{const dataText=element.dataset.indexText;return dataText&&dataText[0]===targetChar;});return elementWIthChar;};const checkChar=({key,target})=>{const currentGroup=getFocusableGroup(target);const foundElementWithIndexChar=findFirstElementByChar(focusable(currentGroup),key);if(foundElementWithIndexChar)foundElementWithIndexChar.focus();};const focusFirstInGroup=(focusableElements)=>{focusableElements[0].focus();};const focusLastInGroup=(focusableElements)=>{focusableElements[focusableElements.length-1].focus();};const focusNextInGroup=(focusableElements,element)=>{const currentIndex=Array.prototype.indexOf.call(focusableElements,element);if(currentIndex===focusableElements.length-1)focusableElements[0].focus();else focusableElements[currentIndex+1].focus();};const focusPreviousInGroup=(focusableElements,element)=>{const currentIndex=Array.prototype.indexOf.call(focusableElements,element);if(currentIndex===0)focusableElements[focusableElements.length-1].focus();else focusableElements[currentIndex-1].focus();};const toggleMenu=(element,state)=>element.dispatchEvent(new CustomEvent('toolbar-menu-set-toggle',{bubbles:false,detail:{state}}));const closePopover=(element)=>element.dispatchEvent(new CustomEvent('toolbar-popover-close',{bubbles:true}));const openPopover=(element)=>element.dispatchEvent(new CustomEvent('toolbar-popover-open',{bubbles:true}));const focusClosestPopoverTrigger=(element)=>{element.closest('[data-toolbar-popover]')?.querySelector('[data-toolbar-popover-control]')?.focus();};const focusFirstMenuElement=(element)=>{const elements=focusable(element.closest('.toolbar-menu__item')?.querySelector('.toolbar-menu'));if(elements?.length)elements[0].focus();};const focusFirstPopoverElement=(element)=>{const elements=focusable(element.closest('[data-toolbar-popover]'));if(elements?.length>=1)elements[1].focus();};const focusLastPopoverElement=(element)=>{const elements=focusable(element.closest('[data-toolbar-popover]'));if(elements?.length>0)elements[elements.length-1].focus();};const closeNonInteractiveElement=(element)=>{if(element.closest('[class*="toolbar-menu--level-"]')){const trigger=element.closest('.toolbar-menu')?.previousElementSibling;toggleMenu(trigger,false);trigger.focus();}else{closePopover(element);focusClosestPopoverTrigger(element);}};const openInteractiveElement=(element)=>{if(element.hasAttribute('data-toolbar-menu-trigger')){toggleMenu(element,true);focusFirstMenuElement(element);}if(element.hasAttribute('data-toolbar-popover-control')){openPopover(element);focusFirstPopoverElement(element);}};const closeInteractiveElement=(element)=>{if(element.hasAttribute('data-toolbar-menu-trigger'))if(element.getAttribute('aria-expanded')==='false')closeNonInteractiveElement(element);else{toggleMenu(element,false);focusFirstMenuElement(element);}if(element.hasAttribute('data-toolbar-popover-control')){openPopover(element);focusLastPopoverElement(element);}};const arrowsSideControl=({key,target})=>{if((key==='ArrowRight'&&!IS_RTL)||(key==='ArrowLeft'&&IS_RTL)){if(isInteractive(target)){openInteractiveElement(target);if(target.getAttribute('aria-controls')==='admin-toolbar'&&target.getAttribute('aria-expanded')==='false')target.click();}}else{if((key==='ArrowRight'&&IS_RTL)||(key==='ArrowLeft'&&!IS_RTL))if(isInteractive(target)){closeInteractiveElement(target);if(target.getAttribute('aria-controls')==='admin-toolbar'&&target.getAttribute('aria-expanded')!=='false')target.click();}else closeNonInteractiveElement(target);}};const arrowsDirectionControl=({key,target})=>{const focusableElements=focusable(getFocusableGroup(target));if(key==='ArrowUp')focusPreviousInGroup(focusableElements,target);else{if(key==='ArrowDown')focusNextInGroup(focusableElements,target);}};sidebar.addEventListener('keydown',(e)=>{switch(e.key){case 'Escape':closePopover(e.target);focusClosestPopoverTrigger(e.target);break;case 'ArrowLeft':case 'ArrowRight':e.preventDefault();arrowsSideControl(e);break;case 'ArrowDown':case 'ArrowUp':e.preventDefault();arrowsDirectionControl(e);break;case 'Home':e.preventDefault();focusFirstInGroup(getFocusableGroup(e.target));break;case 'End':e.preventDefault();focusLastInGroup(getFocusableGroup(e.target));break;default:checkChar(e);break;}});});}};})(Drupal,once,window.tabbable);;
(function($,Drupal){Drupal.behaviors.entityContentDetailsSummaries={attach(context){const $context=$(context);$context.find('.entity-content-form-revision-information').drupalSetSummary((context)=>{const $revisionContext=$(context);const revisionCheckbox=$revisionContext.find('.js-form-item-revision input');if((revisionCheckbox.length&&revisionCheckbox[0].checked)||(!revisionCheckbox.length&&$revisionContext.find('.js-form-item-revision-log textarea').length))return Drupal.t('New revision');return Drupal.t('No revision');});$context.find('details.entity-translation-options').drupalSetSummary((context)=>{const $translationContext=$(context);let translate;let $checkbox=$translationContext.find('.js-form-item-translation-translate input');if($checkbox.length)translate=$checkbox[0].checked?Drupal.t('Needs to be updated'):Drupal.t('Does not need to be updated');else{$checkbox=$translationContext.find('.js-form-item-translation-retranslate input');translate=$checkbox[0]?.checked?Drupal.t('Flag other translations as outdated'):Drupal.t('Do not flag other translations as outdated');}return translate;});}};})(jQuery,Drupal);;
(function($,Drupal,drupalSettings){Drupal.behaviors.nodeDetailsSummaries={attach(context){const $context=$(context);$context.find('.node-form-author').drupalSetSummary((context)=>{const nameElement=context.querySelector('.field--name-uid input');const name=nameElement&&nameElement.value;const dateElement=context.querySelector('.field--name-created input');const date=dateElement&&dateElement.value;if(name&&date)return Drupal.t('By @name on @date',{'@name':name,'@date':date});if(name)return Drupal.t('By @name',{'@name':name});if(date)return Drupal.t('Authored on @date',{'@date':date});});$context.find('.node-form-options').drupalSetSummary((context)=>{const $optionsContext=$(context);const values=[];if($optionsContext.find('input:checked').length){$optionsContext.find('input:checked').next('label').each(function(){values.push(Drupal.checkPlain(this.textContent.trim()));});return values.join(', ');}return Drupal.t('Not promoted');});}};})(jQuery,Drupal,drupalSettings);;
(function($,Drupal,once){'use strict';Drupal.behaviors.paragraphsActions={attach:function(context,settings){var $actionsElement=$(once('paragraphs-dropdown','.paragraphs-dropdown',context));$actionsElement.each(function(){var $this=$(this);var $toggle=$this.find('.paragraphs-dropdown-toggle');$toggle.on('click',function(e){e.preventDefault();$this.toggleClass('open');});$this.on('focusout',function(e){setTimeout(function(){if($this.has(document.activeElement).length==0)$this.removeClass('open');},1);});});}};})(jQuery,Drupal,once);;
(function($,Drupal){function DropButton(dropbutton,settings){const options=$.extend({title:Drupal.t('List additional actions')},settings);const $dropbutton=$(dropbutton);this.$dropbutton=$dropbutton;this.$list=$dropbutton.find('.dropbutton');this.$actions=this.$list.find('li').addClass('dropbutton-action');if(this.$actions.length>1){const $primary=this.$actions.slice(0,1);const $secondary=this.$actions.slice(1);$secondary.addClass('secondary-action');$primary.after(Drupal.theme('dropbuttonToggle',options));this.$dropbutton.addClass('dropbutton-multiple').on({'mouseleave.dropbutton':this.hoverOut.bind(this),'mouseenter.dropbutton':this.hoverIn.bind(this),'focusout.dropbutton':this.focusOut.bind(this),'focusin.dropbutton':this.focusIn.bind(this)});}else this.$dropbutton.addClass('dropbutton-single');}function dropbuttonClickHandler(e){e.preventDefault();$(e.target).closest('.dropbutton-wrapper').toggleClass('open');}Drupal.behaviors.dropButton={attach(context,settings){const dropbuttons=once('dropbutton','.dropbutton-wrapper',context);if(dropbuttons.length){const body=once('dropbutton-click','body');if(body.length)$(body).on('click','.dropbutton-toggle',dropbuttonClickHandler);dropbuttons.forEach((dropbutton)=>{DropButton.dropbuttons.push(new DropButton(dropbutton,settings.dropbutton));});}}};$.extend(DropButton,{dropbuttons:[]});$.extend(DropButton.prototype,{toggle(show){const isBool=typeof show==='boolean';show=isBool?show:!this.$dropbutton.hasClass('open');this.$dropbutton.toggleClass('open',show);},hoverIn(){if(this.timerID)window.clearTimeout(this.timerID);},hoverOut(){this.timerID=window.setTimeout(this.close.bind(this),500);},open(){this.toggle(true);},close(){this.toggle(false);},focusOut(e){this.hoverOut.call(this,e);},focusIn(e){this.hoverIn.call(this,e);}});$.extend(Drupal.theme,{dropbuttonToggle(options){return `<li class="dropbutton-toggle"><button type="button"><span class="dropbutton-arrow"><span class="visually-hidden">${options.title}</span></span></button></li>`;}});Drupal.DropButton=DropButton;})(jQuery,Drupal);;
((Drupal)=>{Drupal.theme.dropbuttonToggle=(options)=>`<li class="dropbutton-toggle"><button type="button" class="dropbutton__toggle"><span class="visually-hidden">${options.title}</span></button></li>`;})(Drupal);;
(function($,Drupal,once){'use strict';var setUpTab=function($parWidget,$parTabs,$parContent,$parBehavior,$mainRegion){var $tabContent=$parTabs.find('.paragraphs_content_tab');var $tabBehavior=$parTabs.find('.paragraphs_behavior_tab');if($tabBehavior.hasClass('is-active')){$parWidget.removeClass('content-active').addClass('behavior-active');$tabContent.removeClass('is-active');$tabContent.find('a').removeClass('is-active');$tabBehavior.addClass('is-active');$tabBehavior.find('a').addClass('is-active');}else{if(!($mainRegion.hasClass('content-active'))&&!($mainRegion.hasClass('behavior-active'))){$tabContent.addClass('is-active');$tabContent.find('a').addClass('is-active');$parWidget.addClass('content-active');}$parTabs.removeClass('paragraphs-tabs-hide');if($parBehavior.length===0)$parTabs.addClass('paragraphs-tabs-hide');}};var switchActiveClass=function($parTabs,$clickedTab,$parWidget){var $clickedTabParent=$clickedTab.parent();$parTabs.find('li').removeClass('is-active');$parTabs.find('li').find('a').removeClass('is-active');$clickedTabParent.addClass('is-active');$clickedTabParent.find('a').addClass('is-active');$parWidget.removeClass('behavior-active content-active');if($clickedTabParent.hasClass('paragraphs_content_tab')){$parWidget.addClass('content-active');$parWidget.find('.paragraphs-add-wrapper').parent().removeClass('hidden');}else{$parWidget.addClass('behavior-active');$parWidget.find('.paragraphs-add-wrapper').parent().addClass('hidden');}};var markFirstVisibleParagraph=function(totalTopOffset){var $window=$(window);var bottomOfScreen=$window.scrollTop()+$window.height();var topOfScreen=$window.scrollTop()+totalTopOffset;var $firstParagraph=false;var $allParagraphs=$('.node-form .draggable');$allParagraphs.each(function(){var $this=$(this);var topOfElement=$this.offset().top;var bottomOfElement=$this.offset().top+$this.height();if((bottomOfScreen>topOfElement)&&(topOfScreen<bottomOfElement)){if($firstParagraph)if(topOfElement>topOfScreen){$firstParagraph=$this;return false;}else{if(topOfElement>bottomOfScreen)return false;}$firstParagraph=$this;if(topOfScreen<topOfElement)return false;}});if($firstParagraph){$('.first-paragraph').removeClass('first-paragraph');$firstParagraph.addClass('first-paragraph paragraph-hover');}return $firstParagraph;};Drupal.behaviors.bodyTabs={attach:function(context){var $topLevelParWidgets=$('.paragraphs-tabs-wrapper',context).filter(function(){return $(this).parents('.paragraphs-nested').length===0;});$(once('paragraphs-bodytabs',$topLevelParWidgets)).each(function(){var $parWidget=$(this);var $parTabs=$parWidget.find('.paragraphs-tabs');$parTabs.find('a').click(function(e){var toolbarHeight=$('.toolbar-tray-horizontal').outerHeight()||0;var adminToolbarsOffset=$('#toolbar-bar').outerHeight()+toolbarHeight;var totalTopOffset=adminToolbarsOffset+$('.paragraphs-tabs').outerHeight();var $firstParagraph;var currentParagraphOffset=0;var $window=$(window);$firstParagraph=markFirstVisibleParagraph(totalTopOffset);if($firstParagraph){currentParagraphOffset=$firstParagraph.offset().top-($window.scrollTop()+totalTopOffset);if(currentParagraphOffset<0)currentParagraphOffset=0;}e.preventDefault();switchActiveClass($parTabs,$(this),$parWidget);if($firstParagraph){$('html, body').scrollTop($firstParagraph.offset().top-totalTopOffset-currentParagraphOffset);setTimeout(function(){$('.first-paragraph').removeClass('paragraph-hover');},1000);}});});if($('.paragraphs-tabs-wrapper',context).length>0)$topLevelParWidgets.each(function(){var $parWidget=$(this);var $parTabs=$parWidget.find('.paragraphs-tabs');var $parContent=$parWidget.find('.paragraphs-content');var $parBehavior=$parWidget.find('.paragraphs-behavior');var $mainRegion=$parWidget.find('.layout-region-node-main');setUpTab($parWidget,$parTabs,$parContent,$parBehavior,$mainRegion);});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.behaviors.paragraphsModalAdd={attach:function(context){$(once('add-click-handler','.paragraph-type-add-modal-button',context)).on('click',function(event){var $button=$(this);Drupal.paragraphsAddModal.openDialog($button.parent().siblings('.paragraphs-add-dialog'),$button.val());event.preventDefault();event.stopPropagation();});}};Drupal.paragraphsAddModal={};Drupal.paragraphsAddModal.openDialog=function(element,title){var $element=$(element);var $modalDelta=$element.parent().find('.paragraph-type-add-delta');$element=$element.clone(true);var dialog=Drupal.dialog($element,{autoResize:true,resizable:false,title,width:'auto',paragraphsModalDelta:$modalDelta});dialog.showModal();$(once('paragraphs-add-more-submit-modal',$element.find('.field-add-more-submit'))).on('mousedown',function(){dialog.close();});return dialog;};$(window).on({'dialog:afterclose':function(event,dialog,$element){if($element.dialog('instance')&&$element.dialog('option','paragraphsModalDelta'))$element.dialog('option','paragraphsModalDelta').val('');}});})(jQuery,Drupal,once);;
(($,Drupal,once)=>{'use strict';Drupal.paragraphs_features=Drupal.paragraphs_features||{};Drupal.paragraphs_features.add_in_between={};Drupal.theme.paragraphsFeaturesAddInBetweenRow=(buttons)=>{const wrapper=document.createElement('div');const td=document.createElement('td');const row=document.createElement('tr');const list=document.createElement('ul');buttons.forEach((button)=>{const listItem=document.createElement('li');listItem.append(button);list.appendChild(listItem);});list.classList.add('paragraphs-features__add-in-between__button-list');wrapper.classList.add('paragraphs-features__add-in-between__wrapper');wrapper.append(list);td.setAttribute('colspan','100%');td.appendChild(wrapper);row.classList.add('paragraphs-features__add-in-between__row');row.appendChild(td);return row;};Drupal.theme.paragraphsFeaturesAddInBetweenButton=(config)=>{const button=document.createElement('button');button.innerText=Drupal.t('+ @title',{'@title':config.title},{context:'Paragraphs Features'});button.classList.add('paragraphs-features__add-in-between__button','button--small','js-show','button','js-form-submit','form-submit');return button;};Drupal.theme.paragraphsFeaturesAddInBetweenMoreButton=(config)=>{const button=document.createElement('button');button.innerText=Drupal.t('@title',{'@title':config.title},{context:'Paragraphs Features'});button.classList.add('paragraphs-features__add-in-between__button','button--small','js-show','button','js-form-submit','form-submit');return button;};Drupal.paragraphs_features.addEventListenerToButton=(button,addButton)=>{button.addEventListener('click',(event)=>{event.preventDefault();event.stopPropagation();const dialog=Drupal.paragraphs_features.add_in_between.getAddModalBlock(event.target.closest('table')).querySelector('.paragraphs-add-dialog');const row=event.target.closest('tr');const delta=Array.prototype.indexOf.call(row.parentNode.children,row)/2;Drupal.paragraphs_features.add_in_between.setDelta(dialog,delta);addButton?addButton.dispatchEvent(new MouseEvent('mousedown')):Drupal.paragraphsAddModal.openDialog(dialog,Drupal.t('Add In Between'),{},{context:'Paragraphs Features'});});};Drupal.behaviors.paragraphsFeaturesAddInBetweenInit={attach:(context,settings)=>{Object.values(settings.paragraphs_features.add_in_between||{}).forEach((field)=>{document.querySelectorAll('#'+field.wrapperId).forEach((wrapper)=>{Drupal.paragraphs_features.add_in_between.initParagraphsWidget(wrapper,field);});});}};Drupal.paragraphs_features.add_in_between.getAddModalBlock=(table)=>{const fromParent=(elem)=>{let sibling=elem.parentNode.firstChild;while(sibling){if(sibling.nodeType===1&&sibling!==elem){const addModalBlock=sibling.querySelector('.paragraphs-add-wrapper');if(addModalBlock)return addModalBlock;}sibling=sibling.nextSibling;}};return fromParent(table)||fromParent(table.parentNode)||fromParent(table.parentNode.parentNode);};Drupal.paragraphs_features.add_in_between.initParagraphsWidget=function(context,field){const [table]=once('paragraphs-features-add-in-between-init',context.querySelector('.field-multiple-table'));if(!table)return;const addModalBlock=Drupal.paragraphs_features.add_in_between.getAddModalBlock(table);if(!addModalBlock)return;addModalBlock.style.display='none';const addModalButton=addModalBlock.querySelector('.paragraph-type-add-modal-button');const dialog=addModalBlock.querySelector('.paragraphs-add-dialog');const rowButtonElement=()=>{const buttons=[];const addButtons=Array.from(dialog.querySelectorAll('input'));addButtons.slice(0,field.linkCount).forEach((addButton)=>{addButton.parentElement.style.display='none';const button=Drupal.theme('paragraphsFeaturesAddInBetweenButton',{title:addButton.value});Drupal.paragraphs_features.addEventListenerToButton(button,addButton);buttons.push(button);});if(addButtons.length>field.linkCount){const title=field.linkCount?Drupal.t('...',{},{context:'Paragraphs Features'}):Drupal.t('+ Add',{},{context:'Paragraphs Features'});const button=Drupal.theme('paragraphsFeaturesAddInBetweenMoreButton',{title});Drupal.paragraphs_features.addEventListenerToButton(button);buttons.push(button);}return Drupal.theme('paragraphsFeaturesAddInBetweenRow',buttons);};let tableBody=table.querySelector(':scope > tbody');if(!tableBody){tableBody=document.createElement('tbody');table.append(tableBody);}tableBody.querySelectorAll(':scope > tr').forEach((rowElement)=>{rowElement.insertAdjacentElement('beforebegin',rowButtonElement());});tableBody.appendChild(rowButtonElement());if(addModalButton.getAttribute('disabled'))tableBody.querySelectorAll('.paragraphs-features__add-in-between__button').forEach((button)=>{button.setAttribute('disabled','disabled');button.classList.add('is-disabled');});};Drupal.paragraphs_features.add_in_between.setDelta=(dialog,delta)=>{let deltaInput=dialog.closest('.paragraphs-add-wrapper').querySelector('.paragraph-type-add-delta.modal');deltaInput.value=delta;};Drupal.behaviors.paragraphsFeaturesAddInBetweenTableDragDrop={attach:(context,settings)=>{Object.keys(settings.tableDrag||{}).forEach((tableId)=>{Drupal.paragraphs_features.add_in_between.adjustDragDrop(tableId);once('in-between-buttons-columnschange','#'+tableId,context).forEach((table)=>{$(table).on('columnschange',(event)=>{Drupal.paragraphs_features.add_in_between.adjustDragDrop(event.target.id);});});});}};Drupal.paragraphs_features.add_in_between.adjustDragDrop=(tableId)=>{if(!Drupal.tableDrag[tableId]||Drupal.tableDrag[tableId].paragraphsDragDrop)return;Drupal.tableDrag[tableId].paragraphsDragDrop=true;const sequenceBoolFunctions=(originalFn,newFn)=>{return function(){let result=originalFn.apply(this,arguments);if(result)result=newFn.apply(this,arguments);return result;};};const paragraphsIsValidSwap=(row)=>{return !row.classList.contains('paragraphs-features__add-in-between__row');};const rowObject=Drupal.tableDrag[tableId].row;rowObject.prototype.isValidSwap=sequenceBoolFunctions(rowObject.prototype.isValidSwap,paragraphsIsValidSwap);rowObject.prototype.onSwap=(row)=>{const table=row.closest('table');const allDrags=table.querySelectorAll(':scope > tbody > tr.draggable');const allAdds=table.querySelectorAll(':scope > tbody > tr.paragraphs-features__add-in-between__row');allDrags.forEach((dragElem,index)=>{if(allAdds.item(index))dragElem.insertAdjacentElement('beforebegin',allAdds.item(index));});};};})(jQuery,Drupal,once);;
(function($,Drupal,drupalSettings,once){'use strict';Drupal.paragraphs_ee=Drupal.paragraphs_ee||{};Drupal.paragraphs_features.add_in_between.initParagraphsWidget=function(context,field){const [table]=once('paragraphs-features-add-in-between-init',context.querySelector('.field-multiple-table'));if(!table)return;const addModalBlock=Drupal.paragraphs_features.add_in_between.getAddModalBlock(table);if(!addModalBlock)return;addModalBlock.style.display='none';const addModalButton=addModalBlock.querySelector('.paragraph-type-add-modal-button');const dialog=addModalBlock.querySelector('.paragraphs-add-dialog');if(!dialog)return;const buttonsAll=dialog.querySelectorAll('.paragraphs-button--add-more:not([data-paragraphs-ee-button-clone])');const buttonsAllCount=Array.from(buttonsAll).length;const addButtons=Array.from(dialog.querySelectorAll('input[data-easy-access-weight], button[data-easy-access-weight]'));Array.from(buttonsAll).forEach((button)=>{$(button).mousedown(function(event){if(event.target.nodeType===1&&event.target.nodeName==='A')event.stopImmediatePropagation();});$('a',button).click(function(event){event.stopPropagation();});});const rowButtonElement=()=>{const buttons=[];addButtons.slice(0,field.linkCount).forEach((addButton)=>{const title=addButton.value;const doc=new DOMParser().parseFromString(title,'text/html');const buttonTitle=doc.documentElement.textContent;const button=Drupal.theme('paragraphsFeaturesAddInBetweenButton',{title:buttonTitle});button.innerHTML=Drupal.t('+ @title',{'@title':buttonTitle},{context:'Paragraphs Editor Enhancements'});;button.setAttribute('title',Drupal.t('Add !title',{'!title':buttonTitle},{context:'Paragraphs Editor Enhancements'}));button.setAttribute('aria-label',Drupal.t('Add !title',{'!title':buttonTitle},{context:'Paragraphs Editor Enhancements'}));button.setAttribute('data-paragraph-bundle',addButton.dataset.paragraphBundle);button.setAttribute('data-easy-access-weight',100);if('easyAccessWeight' in addButton.dataset)button.setAttribute('data-easy-access-weight',addButton.dataset.easyAccessWeight);button.setAttribute('formnovalidate','formnovalidate');Drupal.paragraphs_features.addEventListenerToButton(button,addButton);buttons.push(button);});buttons.sort(function(a,b){return (parseInt(a.dataset.easyAccessWeight)+1000)-(parseInt(b.dataset.easyAccessWeight)+1000);});if(buttonsAllCount>field.linkCount){const title=field.linkCount?Drupal.t('+',{},{context:'Paragraphs Features'}):Drupal.t('+ Add',{},{context:'Paragraphs Features'});const button=Drupal.theme('paragraphsFeaturesAddInBetweenMoreButton',{title,settings:dialog.dataset});Drupal.paragraphs_ee.addEventListenerToMoreButton(button);buttons.push(button);}if(buttons.length>0){buttons[0].classList.add('first');buttons[buttons.length-1].classList.add('last');}return Drupal.theme('paragraphsFeaturesAddInBetweenRow',buttons);};let tableBody=table.querySelector(':scope > tbody');if(!tableBody){tableBody=document.createElement('tbody');table.append(tableBody);}tableBody.querySelectorAll(':scope > tr').forEach((rowElement)=>{rowElement.insertAdjacentElement('beforebegin',rowButtonElement());const rowSelector='.paragraphs-features__add-in-between__row';var $self=$(rowElement);$self.on('mouseover',function(){$self.prev(rowSelector).find('.paragraphs-features__add-in-between__wrapper').addClass('is-active');$self.next(rowSelector).find('.paragraphs-features__add-in-between__wrapper').addClass('is-active');});$self.on('mouseout',function(){$self.prev(rowSelector).find('.paragraphs-features__add-in-between__wrapper').removeClass('is-active');$self.next(rowSelector).find('.paragraphs-features__add-in-between__wrapper').removeClass('is-active');});});tableBody.appendChild(rowButtonElement());if(addModalButton.getAttribute('disabled'))tableBody.querySelectorAll('.paragraphs-features__add-in-between__button').forEach((button)=>{button.setAttribute('disabled','disabled');button.classList.add('is-disabled');});if(('dialogOffCanvas' in dialog.dataset)&&(dialog.dataset.dialogOffCanvas==='true')){let wrappers=tableBody.querySelectorAll('.paragraphs-features__add-in-between__wrapper');wrappers.forEach((wrapper)=>{Drupal.ajax.bindAjaxLinksWithProgress(wrapper);});}};Drupal.paragraphs_features.add_in_between.getAddModalBlock=(table)=>{const fromParent=(elem)=>{let sibling=elem.parentNode.firstChild;while(sibling){if(sibling.nodeType===1&&sibling!==elem){const addModalBlock=sibling.querySelector('.paragraphs-add-wrapper');if(addModalBlock)return addModalBlock;}sibling=sibling.nextSibling;}};return fromParent(table)||fromParent(table.parentNode)||fromParent(table.parentNode.parentNode);};Drupal.paragraphs_features.addEventListenerToButton=(button,addButton)=>{button.addEventListener('click',(event)=>{event.preventDefault();event.stopPropagation();const dialog=Drupal.paragraphs_features.add_in_between.getAddModalBlock(event.target.closest('table')).querySelector('.paragraphs-add-dialog');const row=event.target.closest('tr');const delta=Array.prototype.indexOf.call(row.parentNode.children,row)/2;Drupal.paragraphs_features.add_in_between.setDelta(dialog,delta);addButton?addButton.dispatchEvent(new MouseEvent('mousedown')):Drupal.paragraphsAddModal.openDialog(dialog,Drupal.t('Add @widget_title',{'@widget_title':dialog.dataset.widgetTitle},{context:'Paragraphs Editor Enhancements'}));});};Drupal.paragraphs_ee.addEventListenerToMoreButton=(button)=>{button.addEventListener('click',(event)=>{event.preventDefault();event.stopPropagation();const dialog=Drupal.paragraphs_features.add_in_between.getAddModalBlock(event.target.closest('table')).querySelector('.paragraphs-add-dialog');const row=event.target.closest('tr');const delta=Array.prototype.indexOf.call(row.parentNode.children,row)/2;Drupal.paragraphs_features.add_in_between.setDelta(dialog,delta);if(dialog.hasAttribute('data-dialog-off-canvas')&&dialog.dataset.dialogOffCanvas==='true'){document.querySelector('.paragraphs-add-dialog--categorized').classList.remove('active-dialog');const active_subform=event.target.closest('.js-form-item');if(active_subform)active_subform.querySelector('.paragraphs-add-dialog--categorized').classList.add('active-dialog');}else Drupal.paragraphsAddModal.openDialog(dialog.parentElement,Drupal.t('Add @widget_title',{'@widget_title':dialog.dataset.widgetTitle},{context:'Paragraphs Editor Enhancements'}));});};Drupal.theme.paragraphsFeaturesAddInBetweenMoreButton=(config)=>{const use_off_canvas=(('dialogOffCanvas' in config.settings)&&(config.settings.dialogOffCanvas==='true'));let button=document.createElement('button');if(use_off_canvas){button=document.createElement('a');button.classList.add('paragraphs_ee__add-in-between__dialog-button--off-canvas','use-ajax');button.setAttribute('href',config.settings.dialogBrowserUrl);button.setAttribute('data-progress-type','fullscreen');button.setAttribute('data-dialog-type','dialog');button.setAttribute('data-dialog-renderer','off_canvas');button.setAttribute('data-dialog-options','{"width":"25vw"}');}button.innerText=Drupal.t('@title',{'@title':config.title},{context:'Paragraphs Features'});button.setAttribute('formnovalidate','formnovalidate');button.setAttribute('title',Drupal.t('Show all @title_plural',{'@title_plural':config.settings.widgetTitlePlural},{context:'Paragraphs Editor Enhancements'}));button.classList.add('paragraphs-features__add-in-between__button','paragraphs_ee__add-in-between__dialog-button','button--small','js-show','button','js-form-submit','form-submit');return button;};Drupal.ajax.bindAjaxLinksWithProgress=function(element){if(!(element instanceof Element))return;once('paragraphs-ee-ajax','.use-ajax',element).forEach((ajaxLink)=>{var $linkElement=$(ajaxLink);var elementSettings={progress:{type:$linkElement.data('progress-type')||'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};var href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}Drupal.ajax(elementSettings);});};Drupal.paragraphsAddModal.openDialog=function(element,title,options){var $element=$(element);var $modalDelta=$element.parent().find('.paragraph-type-add-modal-delta, .paragraph-type-add-delta.modal');var dialogStyle=drupalSettings.paragraphs_ee.dialog_style||'tiles';var dialogWidth='auto';var windowWidth=$(window).width();var dialogMaxWidth=1170;if(windowWidth>(dialogMaxWidth+50))dialogWidth=dialogMaxWidth+'px';var default_options={autoResize:true,resizable:false,classes:{'ui-dialog':'paragraphs-ee-add-dialog paragraphs-ee-add-dialog--categorized'+(dialogStyle==='tiles'?'':' paragraphs-style-'+dialogStyle)},title,width:dialogWidth,maxWidth:dialogMaxWidth,paragraphsModalDelta:$modalDelta};$element=$element.clone(true);options=$.extend({},default_options,options);var dialog=Drupal.dialog($element,options);dialog.showModal();$(once('paragraphs-ee-dialog-submit','.field-add-more-submit',$element.get(0))).on('mousedown',function(event){if(event.which!==3)dialog.close();});return dialog;};Drupal.behaviors.paragraphsModalAdd.attach=function(context){$(once('paragraphs-ee-add-click-handler','.paragraph-type-add-modal-button, .paragraph-type-add-delta.modal',context)).on('click',function(event){var $button=$(this);Drupal.paragraphsAddModal.openDialog($button.parent().siblings('.paragraphs-ee-dialog-wrapper'),$button.val());event.preventDefault();event.stopPropagation();});$(window).on({'dialog:aftercreate':function dialogAfterCreate(event,dialog,$element,settings){if(Drupal.offCanvas&&Drupal.offCanvas.isOffCanvas($element))return;if(!once('paragraphs-add-dialog-afterCreate',$element).length)return;var $title_bar=$('.ui-dialog-titlebar',$element.parent());Drupal.paragraphs_ee.initDialogActionButtons($element.parent(),$title_bar);}});};Drupal.paragraphs_ee.initDialogActionButtons=function($dialog,$element){$('.paragraphs-ee-actions-wrapper',$dialog).each(function(delta,elem){$(this).detach().appendTo($element).removeClass('is-hidden');var $toggle=$('.display-toggle',elem);var $dialog_content=$dialog.find('.ui-dialog-content');if($dialog_content.hasClass('paragraphs-style-list'))$toggle.filter('.style-list').attr('aria-pressed','true');else $toggle.filter('.style-tiles').attr('aria-pressed','true');$(once('paragraphs-ee-dialog-toogle','.display-toggle',elem)).on('click',function(){var $self=$(this);var $dialog=$self.closest('.paragraphs-ee-add-dialog');var $dialog_wrapper=$dialog.find('[data-paragraphs-ee-dialog-wrapper]');var $dialog_buttons=$self.parent().find('.display-toggle');$dialog_buttons.removeAttr('aria-pressed');$self.attr('aria-pressed','true');if($self.hasClass('style-list')){$dialog_wrapper.addClass('paragraphs-style-list');$dialog_wrapper.closest('.paragraphs-ee-add-dialog').addClass('paragraphs-style-list');}else{$dialog_wrapper.removeClass('paragraphs-style-list');$dialog_wrapper.parent().removeClass('paragraphs-style-list');}});});};Drupal.behaviors.paragraphsEEToggleCategoryDisplay={attach:function(context){$(once('paragraphs-ee-category-toggle-handler','.paragraphs-ee-category-toggle',context)).on('click',function(){var $checkbox=$(this);var $wrapper=$checkbox.parents('.paragraphs-ee-category-list-wrapper');if($checkbox.is(':checked')){$checkbox.parent().addClass('is-open');$('.paragraphs-ee-category-list',$wrapper).attr('aria-expanded','true');}else{$checkbox.parent().removeClass('is-open');$('.paragraphs-ee-category-list',$wrapper).attr('aria-expanded','false');}});}};$(window).resize(function(){var $visibleDialogs=$('.ui-dialog.paragraphs-ee-add-dialog:visible');$visibleDialogs.each(function(){var $this=$(this);var dialog=$this.find('.ui-dialog-content').data('uiDialog');var dialogWidth='90%';var windowWidth=$(window).width();var dialogMaxWidth=1170;if(windowWidth>(dialogMaxWidth+50))dialogWidth=dialogMaxWidth+'px';$this.css('max-width',dialogWidth);dialog.option('position',dialog.options.position);});});}(jQuery,Drupal,drupalSettings,once));;
(function(Drupal){'use strict';Drupal.AjaxCommands.prototype.scrollToElement=function(ajax,response,status){var resizeObserver=new ResizeObserver(function(){const elem=document.querySelector('[data-drupal-selector='+response.drupalElementSelector+']');if(elem)elem.scrollIntoView({block:'center'});});var parent=document.querySelector('[data-drupal-selector='+response.drupalParentSelector+']');resizeObserver.observe(parent);setTimeout(function(){resizeObserver.unobserve(parent);},500);};}(Drupal));;
(function($,Drupal){Drupal.behaviors.pathDetailsSummaries={attach(context){$(context).find('.path-form').drupalSetSummary((context)=>{const pathElement=document.querySelector('.js-form-item-path-0-alias input');const path=pathElement&&pathElement.value;return path?Drupal.t('Alias: @alias',{'@alias':path}):Drupal.t('No alias');});}};})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.textSummary={attach(context,settings){once('text-summary','.js-text-summary',context).forEach((summary)=>{const $widget=$(summary).closest('.js-text-format-wrapper');const $summary=$widget.find('.js-text-summary-wrapper');const $summaryLabel=$summary.find('label').eq(0);const $full=$widget.children('.js-form-type-textarea');let $fullLabel=$full.find('label').eq(0);if($fullLabel.length===0)$fullLabel=$('<label></label>').prependTo($full);if($fullLabel.hasClass('visually-hidden')){$fullLabel.html((index,oldHtml)=>`<span class="visually-hidden">${oldHtml}</span>`);$fullLabel.removeClass('visually-hidden');}const $link=$(`<span class="field-edit-link"> (<button type="button" class="link link-edit-summary">${Drupal.t('Hide summary')}</button>)</span>`);const $button=$link.find('button');let toggleClick=true;$link.on('click',(e)=>{if(toggleClick){$summary.hide();$button.html(Drupal.t('Edit summary'));$link.appendTo($fullLabel);}else{$summary.show();$button.html(Drupal.t('Hide summary'));$link.appendTo($summaryLabel);}e.preventDefault();toggleClick=!toggleClick;}).appendTo($summaryLabel);if(summary.value==='')$link.trigger('click');});}};})(jQuery,Drupal);;
/* @license MIT https://github.com/ludo/jquery-treetable/blob/3.2.0/MIT-LICENSE.txt */
(function($){var Node,Tree,methods;Node=(function(){function Node(row,tree,settings){var parentId;this.row=row;this.tree=tree;this.settings=settings;this.id=this.row.data(this.settings.nodeIdAttr);parentId=this.row.data(this.settings.parentIdAttr);if(parentId!=null&&parentId!=="")this.parentId=parentId;this.treeCell=$(this.row.children(this.settings.columnElType)[this.settings.column]);this.expander=$(this.settings.expanderTemplate);this.indenter=$(this.settings.indenterTemplate);this.children=[];this.initialized=false;this.treeCell.prepend(this.indenter);}Node.prototype.addChild=function(child){return this.children.push(child);};Node.prototype.ancestors=function(){var ancestors,node;node=this;ancestors=[];while(node=node.parentNode())ancestors.push(node);return ancestors;};Node.prototype.collapse=function(){if(this.collapsed())return this;this.row.removeClass("expanded").addClass("collapsed");this._hideChildren();this.expander.attr("title",this.settings.stringExpand);if(this.initialized&&this.settings.onNodeCollapse!=null)this.settings.onNodeCollapse.apply(this);return this;};Node.prototype.collapsed=function(){return this.row.hasClass("collapsed");};Node.prototype.expand=function(){if(this.expanded())return this;this.row.removeClass("collapsed").addClass("expanded");if(this.initialized&&this.settings.onNodeExpand!=null)this.settings.onNodeExpand.apply(this);if($(this.row).is(":visible"))this._showChildren();this.expander.attr("title",this.settings.stringCollapse);return this;};Node.prototype.expanded=function(){return this.row.hasClass("expanded");};Node.prototype.hide=function(){this._hideChildren();this.row.hide();return this;};Node.prototype.isBranchNode=function(){if(this.children.length>0||this.row.data(this.settings.branchAttr)===true)return true;else return false;};Node.prototype.updateBranchLeafClass=function(){this.row.removeClass('branch');this.row.removeClass('leaf');this.row.addClass(this.isBranchNode()?'branch':'leaf');};Node.prototype.level=function(){return this.ancestors().length;};Node.prototype.parentNode=function(){if(this.parentId!=null)return this.tree[this.parentId];else return null;};Node.prototype.removeChild=function(child){var i=$.inArray(child,this.children);return this.children.splice(i,1);};Node.prototype.render=function(){var handler,settings=this.settings,target;if(settings.expandable===true&&this.isBranchNode()){handler=function(e){$(this).parents("table").treetable("node",$(this).parents("tr").data(settings.nodeIdAttr)).toggle();return e.preventDefault();};this.indenter.html(this.expander);target=settings.clickableNodeNames===true?this.treeCell:this.expander;target.off("click.treetable").on("click.treetable",handler);target.off("keydown.treetable").on("keydown.treetable",function(e){if(e.keyCode==13)handler.apply(this,[e]);});}this.indenter[0].style.paddingLeft=""+(this.level()*settings.indent)+"px";return this;};Node.prototype.reveal=function(){if(this.parentId!=null)this.parentNode().reveal();return this.expand();};Node.prototype.setParent=function(node){if(this.parentId!=null)this.tree[this.parentId].removeChild(this);this.parentId=node.id;this.row.data(this.settings.parentIdAttr,node.id);return node.addChild(this);};Node.prototype.show=function(){if(!this.initialized)this._initialize();this.row.show();if(this.expanded())this._showChildren();return this;};Node.prototype.toggle=function(){if(this.expanded())this.collapse();else this.expand();return this;};Node.prototype._hideChildren=function(){var child,_i,_len,_ref,_results;_ref=this.children;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];_results.push(child.hide());}return _results;};Node.prototype._initialize=function(){var settings=this.settings;this.render();if(settings.expandable===true&&settings.initialState==="collapsed")this.collapse();else this.expand();if(settings.onNodeInitialized!=null)settings.onNodeInitialized.apply(this);return this.initialized=true;};Node.prototype._showChildren=function(){var child,_i,_len,_ref,_results;_ref=this.children;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];_results.push(child.show());}return _results;};return Node;})();Tree=(function(){function Tree(table,settings){this.table=table;this.settings=settings;this.tree={};this.nodes=[];this.roots=[];}Tree.prototype.collapseAll=function(){var node,_i,_len,_ref,_results;_ref=this.nodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];_results.push(node.collapse());}return _results;};Tree.prototype.expandAll=function(){var node,_i,_len,_ref,_results;_ref=this.nodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){node=_ref[_i];_results.push(node.expand());}return _results;};Tree.prototype.findLastNode=function(node){if(node.children.length>0)return this.findLastNode(node.children[node.children.length-1]);else return node;};Tree.prototype.loadRows=function(rows){var node,row,i;if(rows!=null)for(i=0;i<rows.length;i++){row=$(rows[i]);if(row.data(this.settings.nodeIdAttr)!=null){node=new Node(row,this.tree,this.settings);this.nodes.push(node);this.tree[node.id]=node;if(node.parentId!=null&&this.tree[node.parentId])this.tree[node.parentId].addChild(node);else this.roots.push(node);}}for(i=0;i<this.nodes.length;i++)node=this.nodes[i].updateBranchLeafClass();return this;};Tree.prototype.move=function(node,destination){var nodeParent=node.parentNode();if(node!==destination&&destination.id!==node.parentId&&$.inArray(node,destination.ancestors())===-1){node.setParent(destination);this._moveRows(node,destination);if(node.parentNode().children.length===1)node.parentNode().render();}if(nodeParent)nodeParent.updateBranchLeafClass();if(node.parentNode())node.parentNode().updateBranchLeafClass();node.updateBranchLeafClass();return this;};Tree.prototype.removeNode=function(node){this.unloadBranch(node);node.row.remove();if(node.parentId!=null)node.parentNode().removeChild(node);delete this.tree[node.id];this.nodes.splice($.inArray(node,this.nodes),1);return this;};Tree.prototype.render=function(){var root,_i,_len,_ref;_ref=this.roots;for(_i=0,_len=_ref.length;_i<_len;_i++){root=_ref[_i];root.show();}return this;};Tree.prototype.sortBranch=function(node,sortFun){node.children.sort(sortFun);this._sortChildRows(node);return this;};Tree.prototype.unloadBranch=function(node){var children=node.children.slice(0),i;for(i=0;i<children.length;i++)this.removeNode(children[i]);node.children=[];node.updateBranchLeafClass();return this;};Tree.prototype._moveRows=function(node,destination){var children=node.children,i;node.row.insertAfter(destination.row);node.render();for(i=children.length-1;i>=0;i--)this._moveRows(children[i],node);};Tree.prototype._sortChildRows=function(parentNode){return this._moveRows(parentNode,parentNode);};return Tree;})();methods={init:function(options,force){var settings;settings=$.extend({branchAttr:"ttBranch",clickableNodeNames:false,column:0,columnElType:"td",expandable:false,expanderTemplate:"<a href='#'>&nbsp;</a>",indent:19,indenterTemplate:"<span class='indenter'></span>",initialState:"collapsed",nodeIdAttr:"ttId",parentIdAttr:"ttParentId",stringExpand:"Expand",stringCollapse:"Collapse",onInitialized:null,onNodeCollapse:null,onNodeExpand:null,onNodeInitialized:null},options);return this.each(function(){var el=$(this),tree;if(force||el.data("treetable")===undefined){tree=new Tree(this,settings);tree.loadRows(this.rows).render();el.addClass("treetable").data("treetable",tree);if(settings.onInitialized!=null)settings.onInitialized.apply(tree);}return el;});},destroy:function(){return this.each(function(){return $(this).removeData("treetable").removeClass("treetable");});},collapseAll:function(){this.data("treetable").collapseAll();return this;},collapseNode:function(id){var node=this.data("treetable").tree[id];if(node)node.collapse();else throw new Error("Unknown node '"+id+"'");return this;},expandAll:function(){this.data("treetable").expandAll();return this;},expandNode:function(id){var node=this.data("treetable").tree[id];if(node){if(!node.initialized)node._initialize();node.expand();}else throw new Error("Unknown node '"+id+"'");return this;},loadBranch:function(node,rows){var settings=this.data("treetable").settings,tree=this.data("treetable").tree;rows=$(rows);if(node==null)this.append(rows);else{var lastNode=this.data("treetable").findLastNode(node);rows.insertAfter(lastNode.row);}this.data("treetable").loadRows(rows);rows.filter("tr").each(function(){tree[$(this).data(settings.nodeIdAttr)].show();});if(node!=null)node.render().expand();return this;},move:function(nodeId,destinationId){var destination,node;node=this.data("treetable").tree[nodeId];destination=this.data("treetable").tree[destinationId];this.data("treetable").move(node,destination);return this;},node:function(id){return this.data("treetable").tree[id];},removeNode:function(id){var node=this.data("treetable").tree[id];if(node)this.data("treetable").removeNode(node);else throw new Error("Unknown node '"+id+"'");return this;},reveal:function(id){var node=this.data("treetable").tree[id];if(node)node.reveal();else throw new Error("Unknown node '"+id+"'");return this;},sortBranch:function(node,columnOrFunction){var settings=this.data("treetable").settings,prepValue,sortFun;columnOrFunction=columnOrFunction||settings.column;sortFun=columnOrFunction;if($.isNumeric(columnOrFunction))sortFun=function(a,b){var extractValue,valA,valB;extractValue=function(node){var val=node.row.find("td:eq("+columnOrFunction+")").text();return $.trim(val).toUpperCase();};valA=extractValue(a);valB=extractValue(b);if(valA<valB)return -1;if(valA>valB)return 1;return 0;};this.data("treetable").sortBranch(node,sortFun);return this;},unloadBranch:function(node){this.data("treetable").unloadBranch(node);return this;}};$.fn.treetable=function(method){if(methods[method])return methods[method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method==='object'||!method)return methods.init.apply(this,arguments);else return $.error("Method "+method+" does not exist on jQuery.treetable");};window.TreeTable||(window.TreeTable={});window.TreeTable.Node=Node;window.TreeTable.Tree=Tree;})(jQuery);;
/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,drupalSettings){'use strict';Drupal.behaviors.tokenTree={attach:function(context,settings){$(once('token-tree','table.token-tree',context)).treetable({expandable:true});}};Drupal.behaviors.tokenInsert={attach:function(context,settings){$('textarea, input[type="text"]',context).focus(function(){drupalSettings.tokenFocusedField=this;});if(Drupal.CKEditor5Instances)Drupal.CKEditor5Instances.forEach(function(editor){editor.editing.view.document.on('change:isFocused',(event,data,isFocused)=>{if(isFocused)drupalSettings.tokenFocusedCkeditor5=editor;});});once('token-click-insert','.token-click-insert .token-key',context).forEach(function(token){var newThis=$('<a href="javascript:void(0);" title="'+Drupal.t('Insert this token into your form')+'">'+$(token).html()+'</a>').click(function(){var content=this.text;if(drupalSettings.tokenFocusedField&&(drupalSettings.tokenFocusedField.tokenDialogFocus||drupalSettings.tokenFocusedField.tokenHasFocus))insertAtCursor(drupalSettings.tokenFocusedField,content);else if(typeof (tinyMCE)!='undefined'&&tinyMCE.activeEditor)tinyMCE.activeEditor.execCommand('mceInsertContent',false,content);else if(typeof (CKEDITOR)!='undefined'&&CKEDITOR.currentInstance)CKEDITOR.currentInstance.insertHtml(content);else if(typeof (CodeMirror)!='undefined'&&drupalSettings.tokenFocusedField&&$(drupalSettings.tokenFocusedField).parents('.CodeMirror').length){var editor=$(drupalSettings.tokenFocusedField).parents('.CodeMirror')[0].CodeMirror;editor.replaceSelection(content);editor.focus();}else if(Drupal.wysiwyg&&Drupal.wysiwyg.activeId)Drupal.wysiwyg.instances[Drupal.wysiwyg.activeId].insert(content);else if(typeof (CKEDITOR)!='undefined'&&typeof (Drupal.ckeditorActiveId)!='undefined')CKEDITOR.instances[Drupal.ckeditorActiveId].insertHtml(content);else if(drupalSettings.tokenFocusedField)insertAtCursor(drupalSettings.tokenFocusedField,content);else if(drupalSettings.tokenFocusedCkeditor5){const editor=drupalSettings.tokenFocusedCkeditor5;editor.model.change((writer)=>{writer.insertText(content,editor.model.document.selection.getFirstPosition());});}else alert(Drupal.t('First click a text field to insert your tokens into.'));return false;});$(token).html(newThis);});function insertAtCursor(editor,content){var scroll=editor.scrollTop;if(document.selection){editor.focus();var sel=document.selection.createRange();sel.text=content;}else if(editor.selectionStart||editor.selectionStart=='0'){var startPos=editor.selectionStart;var endPos=editor.selectionEnd;editor.value=editor.value.substring(0,startPos)+content+editor.value.substring(endPos,editor.value.length);}else editor.value+=content;editor.scrollTop=scroll;}}};})(jQuery,Drupal,drupalSettings);;
